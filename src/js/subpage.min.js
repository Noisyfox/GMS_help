function rel_to_obs(url,base_url){var doc=document,old_base=doc.getElementsByTagName('base')[0],old_href=old_base&&old_base.href,doc_head=doc.head||doc.getElementsByTagName('head')[0],our_base=old_base||doc_head.appendChild(doc.createElement('base')),resolver=doc.createElement('a'),resolved_url;our_base.href=base_url;resolver.href=url;resolved_url=resolver.href;if(old_base)old_base.href=old_href;else doc_head.removeChild(our_base);return resolved_url;}function git_or_obs(url){var obsurl;if(location.hostname=="xujing-project.github.io"){obsurl="/GMS_help"+url;}else{obsurl=url;}return obsurl;}$(document).ready(function(){$(function(){var mmenu_left_fullurl=$('#forload_menuleft').attr("href");url_prefix=mmenu_left_fullurl.slice(0,-23);mmenu_left_fullurl=git_or_obs(mmenu_left_fullurl);$('nav#menu_left').load(mmenu_left_fullurl,function(){var $menu=$('nav#menu_left');$menu.mmenu({position:'left',classes:'mm-black',dragOpen:true,counters:true,searchfield:true,labels:{fixed:!$.mmenu.support.touch}});$(this).find('a').each(function(){var menu_inner_url=url_prefix+$(this).attr("href");$(this).attr("href",git_or_obs(menu_inner_url));});$('#index_searcher').on('click',function(){});});});$(function(){var mmenu_right_fullurl=$('#forload_menuright').attr("href");url_prefix=mmenu_right_fullurl.slice(0,-24);mmenu_right_fullurl=git_or_obs(mmenu_right_fullurl);$('nav#menu_right').load(mmenu_right_fullurl,function(){var $menu=$('nav#menu_right');$menu.mmenu({position:'right',classes:'mm-black',dragOpen:true,counters:true,searchfield:true,labels:{fixed:!$.mmenu.support.touch}});$(this).find('a').each(function(){var menu_inner_url=url_prefix+$(this).attr("href");$(this).attr("href",git_or_obs(menu_inner_url));});});});$(function(){function cre_popups(classtype){var popclass=classtype+"_ceshi";$('a.'+classtype).each(function(){$('#page_popup').append($('.popup').last().clone(true));var temp=$('.popup').last();var data_page_url=git_or_obs($(this).attr("href"));var data_page_id=$(this).attr("id")+"-1";$(this).attr("href",'#'+data_page_id);temp.attr("id",data_page_id);temp.removeClass("popup_left_ceshi popup_right_ceshi popup_top_ceshi popup_bottom_ceshi");temp.addClass(popclass);$("#"+data_page_id+" div div").load(data_page_url+" #content",function(){$(this).find('a').each(function(){var menu_inner_url=$(this).attr("href");if(menu_inner_url.slice(0,1)=="/"){$(this).attr("href",git_or_obs(menu_inner_url));}else if(menu_inner_url.slice(0,4)=="http"){$(this).attr("href",menu_inner_url);$(this).attr("target","_blank");}else if(menu_inner_url.slice(0,3)=="www"){menu_inner_url="http://"+menu_inner_url;$(this).attr("href",menu_inner_url);$(this).attr("target","_blank");}else{$(this).attr("href",rel_to_obs(menu_inner_url,data_page_url));}});});});}cre_popups("popup_left");cre_popups("popup_right");cre_popups("popup_top");cre_popups("popup_bottom");var options={classes:'mm-black',modal:false};options.position='left';options.zposition='front';$('.popup_left_ceshi').mmenu(options);options.position='right';options.zposition='front';$('.popup_right_ceshi').mmenu(options);options.position='top';options.zposition='front';$('.popup_top_ceshi').mmenu(options);options.position='bottom';options.zposition='front';$('.popup_bottom_ceshi').mmenu(options);$('a.close').click(function(){$(this).closest('.mm-menu').trigger('close');});});$(function(){function cre_fullpages(classtype){var fullpageclass=classtype+"_ceshi";$('a.'+classtype).each(function(){$('#page_fullscreen').append($('.panel').last().clone(true));var temp=$('.panel').last();var data_page_url=git_or_obs($(this).attr("href"));var data_page_id=$(this).attr("id")+"-1";$(this).attr("href",'#'+data_page_id);temp.attr("id",data_page_id);temp.removeClass("page_left_ceshi page_right_ceshi page_top_ceshi page_bottom_ceshi");temp.addClass(fullpageclass);$("#"+data_page_id+" div div").load(data_page_url+" #content",function(){$(this).find('a').each(function(){var menu_inner_url=$(this).attr("href");if(menu_inner_url.slice(0,1)=="/"){$(this).attr("href",git_or_obs(menu_inner_url));}else if(menu_inner_url.slice(0,4)=="http"){$(this).attr("href",menu_inner_url);$(this).attr("target","_blank");}else if(menu_inner_url.slice(0,3)=="www"){menu_inner_url="http://"+menu_inner_url;$(this).attr("href",menu_inner_url);$(this).attr("target","_blank");}else{$(this).attr("href",rel_to_obs(menu_inner_url,data_page_url));}});});});}cre_fullpages("page_left");cre_fullpages("page_right");cre_fullpages("page_top");cre_fullpages("page_bottom");var options={classes:'mm-fullscreen',zposition:'next',moveBackground:false};$('.page_left_ceshi').mmenu(options);options.position='right',$('.page_right_ceshi').mmenu(options);options.position='top',$('.page_top_ceshi').mmenu(options);options.position='bottom',$('.page_bottom_ceshi').mmenu(options);$('.page_left_ceshi, .page_right_ceshi,.page_top_ceshi,.page_bottom_ceshi').on('opening.mm',function(){$('body').addClass(this.id);}).on('closing.mm',function(){$('body').removeClass(this.id);});$('a.back').on('click',function(e){e.preventDefault();$('.page_left_ceshi, .page_right_ceshi,.page_top_ceshi,.page_bottom_ceshi').trigger('close.mm');});});$(".entr_click").each(function(){var data_entr="#"+$(this).attr("data_entr");$(data_entr).addClass("entr_content");$(this).click(function(){$(data_entr).slideToggle("slow");});});})