<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>win8_secondarytile_pin</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
	<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" /></head>
<body><!-- #BeginLibraryItem "/Library/mmenu_head.lbi" --><link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.css" />
<link type="text/css" rel="stylesheet" href="../../../src/css/extensions/jquery.mmenu.themes.css" />
<link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
<style type="text/css">
@media all and (min-width: 900px) {
html, body {
height: 100%

}
#menu {
background: #eee
}
#page {
border-left: 1px solid #ccc
min-height: 100%
}
}
</style>

<!-- scripts links  -->

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script type="text/javascript" src="../../../src/js/jquery.mmenu.js"></script>
<script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all.js"></script>

<!-- main  -->

<script type="text/javascript">
	$(function() {
		$('nav#menu').mmenu({
			classes: 'mm-light'
				});
			});
</script>

<!-- for one page  -->

<script type="text/javascript">
	$(function() {
		var $menu = $('nav#menu'),
			$html = $('html, body');

		$menu.mmenu();
		$menu.find( 'li > a' ).on(
			'click',
			function()
			{
				var href = $(this).attr( 'href' );

				//	if the clicked link is linked to an anchor, scroll the page to that anchor 
				if ( href.slice( 0, 1 ) == '#' )
				{
					$menu.one(
						'closed.mm',
						function()
						{
							setTimeout(
								function()
								{
									$html.animate({
										scrollTop: $( href ).offset().top
									});	
								}, 10
							);	
						}
					);						
				}
			}
		);
	});
</script>
	
<!-- for the tips  -->
	
<script type="text/javascript">
			$(function() {
				var options = {
					classes			: 'mm-light',
					modal			: true
				};
				
				options.position = 'left';
				options.zposition = 'next';
				$('#tooltip-1').mmenu( options );
				
				options.position = 'right';
				options.zposition = 'next';
				$('#tooltip-2').mmenu( options );
				
				options.position = 'bottom';
				options.zposition = 'front';
				$('#popup-1').mmenu( options );

				options.position = 'top';
				options.zposition = 'front';
				$('#popup-2').mmenu( options );
			});
</script>

<!-- the page header part  -->

<div id="page">
			<div id="header" >
				<a href="#menu"></a>
				&#x70B9;&#x51FB;&#x5DE6;&#x8FB9;&#x6309;&#x952E;&#x6253;&#x5F00;&#x5BFC;&#x822A;&#x83DC;&#x5355;
			</div>
			<div id="content" >
			
<!-- for update files -->


<!-- #EndLibraryItem --><h1>win8_secondarytile_pin</h1>

<h2>Pin a secondary Live Tile for your game to the Windows 8 UI.</h2>

<h3>Syntax :</h3>
<p class="code">win8_secondarytile_pin(tile_id, short_name, display_name, cmd_line_args, ds_list_options, image, wide_image, text_col);</p>

<p>
<br>
</p>

<div class="param">
	<table>
		<tr><th>Argument</th><th>Description</th></tr>

		<tr><td>tile_id</td>
		<td>A string that will uniquely identify the tile.</td></tr>
		
		<tr class="alt"><td>short_name</td>
		<td>A short name to display directly on the tile (a string).</td></tr>
		
		<tr><td>display_name</td>
		<td>A name that is displayed in the tile's tooltip and when showing small tiles (a string).</td></tr>
		
		<tr class="alt"><td>cmd_line_args</td>
		<td>The command line arguments that will be added to the tile (as a string).</td></tr>
		
		<tr><td>ds_list_options</td>
		<td>A ds_list that controls whether to show the game name or not on different sized tiles.</td></tr>
		
		<tr class="alt"><td>image</td>
		<td>An image for the normal (square) Live Tile.</td></tr>
		
		<tr><td>wide_image</td>
		<td>An image for the wide Live Tile.</td></tr>
		
		<tr class="alt"><td>text_col</td>
		<td>the text color (either "dark" or "light").</td></tr>
		
	</table>
</div>

<p>
<br>
</p>
  
<p>
<b>Returns: </b>N/A
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function will pin a secondary tile to the start menu of the Windows 8 UI associated with your game. These secondary tiles are designed to start your game from a certain point, like a save game or a store page. 
you must give the tile a <b>tile_id</b> string (which will then be used in the other secondary tile functions) and two names, the <b>display name</b> and the <b>short name</b>. The <b>short name</b> is 
a short string to be displayed directly on the tile (if chosen to do so from the ds_list options, explained below), and the <b>display name</b> is a generally longer descriptive string that will be shown as a "tooltip" 
when your Live Tile is set to small by the user.
<br>
<br>

The <b>command line arguments</b> are used to tell the game where to start when launched from the secondary tile, and follow the http format of "value&amp;value". These values will then be parsed using the 
GML <a href="../Miscellaneous/parameter_count.html"><tt>parameter_count</tt></a> and <a href="../Miscellaneous/parameter_string.html"><tt>parameter_string</tt></a> functions.
<br>
<br>

The options to use when pinning a secondary tile must be added first into a <a href="../Data%20Structures/DS%20Lists/index.html"><tt>ds_list</tt></a> and the index for the ds_list passed through to the function. These 
options control whether to show the game name on the tile or not and can only be "None" (for no text on either tile), or "ShowNameOnLogo" <i>and</i> "ShowNameOnWideLogo" to show the name on both tiles (you 
cannot show on one and not the other). These strings are added to the ds_list and the list index used in the function (as shown below).
<br>
<br>

Finally you need to add in the images that are going to be used for the tile notification, with one image for each of the two sizes (square and wide). These images can be either from a local source (in which case 
the directory to get the file from <i>must</i> be preceded by <tt>ms-appx:///</tt>. See the example given below) or from a URL. You can also define the text color, although the Windows 8 UI limits this to 
simply "light" or "dark" for the text, with the color itself being chosen by Windows based on the user settings.
<br>
<br>

<p>
<br>
</p>

<h3>Extended Example:</h3>
<p>
This extended example provides a brief overview of how you would detect the command line parameters for the pinned secondary tile and make your game react accordingly. The first thing you would need to do 
is create and pin the Live Tile to the Windows 8 UI using the following code (note that the function arguments are spread over several lines - this is done to make the example legible but it <i>will</i> work fine 
in <i>GameMaker:Studio</i>, although normally you would have all the arguments on one line):
<p class="code">
var optionsList = ds_list_create();<br>
ds_list_add(optionsList, "None");<br>
win8_secondarytile_pin(<br>
&nbsp;&nbsp;&nbsp;"Store.Tile",<br>
&nbsp;&nbsp;&nbsp;"MacSweeney Store",<br>
&nbsp;&nbsp;&nbsp;"The MacSweeney Game Store",<br>
&nbsp;&nbsp;&nbsp;"store=true&amp;appBar=true",<br>
&nbsp;&nbsp;&nbsp;optionsList,<br>
&nbsp;&nbsp;&nbsp;"ms-appx:///" + working_directory + "MacSweeneyStoreTile.png",<br>
&nbsp;&nbsp;&nbsp;"ms-appx:///" + working_directory + "MacSweeneyStoreWideTile.png",<br>
&nbsp;&nbsp;&nbsp;"dark");<br>
</p>
<p>
This code defines and pins a secondary Live Tile, with the parameters "store" and "appbar" set to true. When the user opens your game using this secondary tile, it will use the command line parameters that you 
have set, which means that you will need to have an instance in the first room of the game (on loading) to parse the parameters and setup the game accordingly. The following code in an example of how this can 
be achieved:
<p class="code">
for (var i = 0; i &lt; parameter_count(); i ++;)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var param = parameter_string(i);<br>
&nbsp;&nbsp;&nbsp;if param == "appBar=enable")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win8_appbar_enable(true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;if (param == "store=true")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;room_goto(rm_Store);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br>
</p>
<p>
The above code will loop through all the available parametrs and setup your game accordingly, in this case by activating the Windows 8 app bar and going to the specified room.
</p>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Windows 8</a>
	</div>
	<div style="float:right">
		Next : <a href="win8_secondarytile_badge_notification.html">win8_secondarytile_badge_notification</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
<!-- #BeginLibraryItem "/Library/mmenu_body_down.lbi" -->
</div>
<div id="footer">
				Fixed footer :-)
</div>

			<nav id="menu">
				<ul>
					<li ><a href="../../../index.html">GameMaker:Studio 手册首页</a>
						<ul>
							<li><a href="#content">Introduction</a></li>
							<li><a href="#first">First section</a></li>
							<li><a href="#second">Second section</a></li>
							<li><a href="#third">Third section</a></li>
						</ul>
					</li>
					<li >
						<a href="../../000_Using GameMaker/index.html">GameMaker:Studio 使用</a>
						<ul>
							<li><a href="#">First sub-item</a></li>
							<li>
								<a href="#">Second sub-item</a>
								<ul>
									<li><a href="#">First sub-sub-item</a></li>
									<li><a href="#">Second sub-sub-item</a></li>
									<li><a href="#">Third sub-sub-item</a></li>
								</ul>
							</li>
							<li><a href="#">Third sub-item</a></li>
						</ul>
					</li>
					<li ><a href="../../001_Advanced Use/index.html">Advanced Use 高级使用</a></li>
					<li ><a href="../index.html">Reference GML参考手册</a></li>
					<li ><a href="#">Examples and Experience 实例教程及心得</a></li>
					<li ><a href="#">Experimental project 实验项目</a></li>
					<li ><a href="#">Setting 应用设置</a></li>					
				</ul>
			</nav>
</div>
<!-- 注意1 --><!-- #EndLibraryItem --></body>
</html>

<!-- KEYWORDS
win8_secondarytile_pin
-->
