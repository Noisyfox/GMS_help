<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>background_create_from_surface</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
	<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" /></head>
<body><!-- #BeginLibraryItem "/Library/mmenu_head.lbi" --><link type="text/css" rel="stylesheet" href="../../../../src/css/jquery.mmenu.css" />
<link type="text/css" rel="stylesheet" href="../../../../src/css/extensions/jquery.mmenu.themes.css" />

<style type="text/css">
@media all and (min-width: 900px) {
html, body {
height: 100%

}
#menu {
background: #eee
}
#page {
border-left: 1px solid #ccc
min-height: 100%
}
}
</style>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="../../../../src/js/jquery.mmenu.js"></script>
<script type="text/javascript">
$(function() {
$('nav#menu').mmenu({
classes: 'mm-light'
})
})
</script>

<div id="page">
			<div id="header">
				<a href="#menu"></a>
				&#x70B9;&#x51FB;&#x5DE6;&#x8FB9;&#x6309;&#x952E;&#x6253;&#x5F00;&#x5BFC;&#x822A;&#x83DC;&#x5355;
			</div>
			<div id="content">
			
<!-- 注意：使用此库文件的页面“/body”前面必须配置mmenu_body_down.lbi 2 -->


<!-- #EndLibraryItem --><h1>background_create_from_surface</h1>

<h2>Creates a background by copying an area from a surface.</h2>

<h3>Syntax :</h3>
<p class="code">background_create_from_surface(index, x, y, w, h, removeback, smooth);</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>
	
	<tr><td>index</td>
	<td>The index of the surface to create from.</td></tr>
	
	<tr class="alt"><td>x</td>
	<td>The x position to copy from.</td></tr>
	
	<tr><td>y</td>
	<td>The y position to copy from.</td></tr>
	
	<tr class="alt"><td>w</td>
	<td>The width of the area to be copied (from the x position).</td></tr>
	
	<tr><td>h</td>
	<td>The height of the area to be copied (from the y position).</td></tr>
	
	<tr class="alt"><td>removeback</td>
	<td>Indicates whether to make all pixels with the same color (left-bottom pixel) transparent.</td></tr>
	
	<tr><td>smooth</td>
	<td>Indicates whether to smooth the edges.</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>Real
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
With this function you can create a background from a previously initialised surface. The x and y coordinates that you input are relative to the (0,0) position of the <i>surface</i> (the top left corner) and not 
the game window, nor the view if you have one active. The width and height arguments are in pixels and define the width and height of the part of the surface to use.
<br>
<br>

Setting the "removeback" argument to <tt>true</tt> will remove a color from the background, by checking the <i>bottom left</i> pixel of the defined area for the color there and then using that as the color 
to be removed.
<br>
<br>

If you choose the "removeback" option, you may also want <i>GameMaker:Studio</i> to smooth the edges of the background by setting the "smooth" argument to <tt>true</tt>. All this does is create a 
semi-transparent border around the edges of the background after it has had it's background removed.
<br>
<br>

<i><b>NOTE : </b>When you create a background in GameMaker:Studio with this method you must remember to remove it again (with <a href="background_delete.html"><tt>background_delete</tt></a>) 
when no longer needed, otherwise there is risk of a memory leak which will slow down and eventually crash your game.</i>
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
var surf;<br>
surf = surface_create(32, 32);<br>
surface_set_target(surf);<br>
draw_clear_alpha(c_black, 0);<br>
draw_background(bck_Sky, 0, 0, 0);<br>
draw_background(bck_Mountains, 0, 0, 0);<br>
bck_custom = background_create_from_surface(surf, 0, 0, 32, 32, true, true);<br>
surface_reset_target();<br>
surface_free(surf);<br>
</p>
<p>
The above code creates a surface and stores it's index in the local variable "surf". It then targets that surface, clears it and draws two background on top of each other. Finally it creates a new background from 
the composite image drawn on the surface and assigns it's index to "bck_Custom" before freeing up the memory used by the surface.
</p>
  
<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Backgrounds</a>
	</div>
	<div style="float:right">
		Next : <a href="background_set_alpha_from_background.html">background_set_alpha_from_background</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5><!-- #BeginLibraryItem "/Library/mmenu_body_down.lbi" -->
</div>
			<nav id="menu">
				<ul>
					<li ><a href="../../../../index.html">GameMaker:Studio &#x624B;&#x518C;&#x9996;&#x9875;</a></li>
					<li ><a href="../../../000_Using GameMaker/index.html">GameMaker:Studio &#x4F7F;&#x7528;</a></li>
					<li ><a href="../../../001_Advanced Use/index.html">Advanced Use &#x9AD8;&#x7EA7;&#x4F7F;&#x7528;</a></li>
					<li ><a href="../../index.html">Reference GML&#x53C2;&#x8003;&#x624B;&#x518C;</a></li>
					<li ><a href="#">Tutorial examples and experience &#x5B9E;&#x4F8B;&#x6559;&#x7A0B;&#x53CA;&#x5FC3;&#x5F97;</a></li>
					<li ><a href="#">Experimental project &#x5B9E;&#x9A8C;&#x9879;&#x76EE;</a></li>
					<li ><a href="#">Setting &#x5E94;&#x7528;&#x8BBE;&#x7F6E;</a></li>					
				</ul>
			</nav>
</div>
<!-- 注意2 --><!-- #EndLibraryItem --></body>
</html>

<!-- KEYWORDS
background_create_from_surface
-->
