<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>mp_potential_step_object</title>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" href="../../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" /></head>
<body><!-- #BeginLibraryItem "/Library/mmenu_head.lbi" --><link type="text/css" rel="stylesheet" href="../../../../src/css/jquery.mmenu.css" />
<link type="text/css" rel="stylesheet" href="../../../../src/css/extensions/jquery.mmenu.themes.css" />

<style type="text/css">
@media all and (min-width: 900px) {
html, body {
height: 100%;

}
#menu {
background: #eee;
}
#page {
border-left: 1px solid #ccc;
min-height: 100%;
}
}
</style>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="../../../../src/js/jquery.mmenu.js"></script>
<script type="text/javascript">
$(function() {
$('nav#menu').mmenu({
classes: 'mm-light'
});
});
</script>

<div id="page">
			<div id="header">
				<a href="#menu"></a>
				点击左边按键打开导航菜单
			</div>
			<div id="content">
			
<!-- 注意：使用此库文件的页面“/body”前面必须配置mmenu_body_down.lbi 2 -->


<!-- #EndLibraryItem --><h1>mp_potential_step_object</h1>
  
<h2>This function moves an instance towards a point avoiding the specified object.</h2>
  
<h3>Syntax :</h3>
<p class="code">mp_potential_step_object(xgoal, ygoal, stepsize, obj)</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>xgoal</td>
	<td>The target x position.</td></tr>
	
	<tr class="alt"><td>ygoal</td>
	<td>The target y position.</td></tr>

	<tr><td>stepsize</td>
	<td>The speed the instance moves in pixels per step.</td></tr>	
	
	<tr class="alt"><td>obj</td>
	<td>The object that is to block the path of the instance running the function. Can be an object index, an instance id or the special keyword ,<b>all</b>.</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>Boolean.
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function lets the instance take a step towards a particular position defined by xgoal/ygoal, all the while trying to avoid obstacles. When the instance would run into an instance of the object specidied 
by the "obj" argument it will change the direction of motion to try to avoid that instance and move around it. This approach is not guaranteed to work but in most easy cases it will effectively move the instance 
towards the goal. The function returns whether the goal was reached or not.
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
if instance_exists(obj_Enemy)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var inst;<br>
&nbsp;&nbsp;&nbsp;inst = instance_nearest(x, y, obj_Enemy);<br>
&nbsp;&nbsp;&nbsp;mp_potential_step_object(inst.x, inst.y, 5, obj_Wall);<br>
&nbsp;&nbsp;&nbsp;}<br>
</p>
<p>
The above code first checks to see if there are any instances of "obj_Enemy" in the room. If there are it then finds the nearest one and stores its id in a variable. This variable is then used to tell <tt>mp_potential_step_object</tt> 
to move the instance with the code towards the x/y position of the object that was found at a speed of 5 pixels per step while avoiding only instances of the object "obj_Wall".
</p>
  
<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Motion Planning</a>
	</div>
	<div style="float:right">
		Next : <a href="mp_potential_path.html">mp_potential_path</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5><!-- #BeginLibraryItem "/Library/mmenu_body_down.lbi" -->
</div>
			<nav id="menu">
				<ul>
					<li ><a href="../../../../index.html">GameMaker:Studio 手册首页</a></li>
					<li ><a href="../../../000_Using GameMaker/index.html">GameMaker:Studio 使用</a></li>
					<li ><a href="../../../001_Advanced Use/index.html">Advanced Use 高级使用</a></li>
					<li ><a href="../../index.html">Reference GML参考手册</a></li>
					<li ><a href="#">Tutorial examples and experience 实例教程及心得</a></li>
					<li ><a href="#">Experimental project 实验项目</a></li>
					<li ><a href="#">Setting 应用设置</a></li>					
				</ul>
			</nav>
</div>
<!-- 注意2 --><!-- #EndLibraryItem --></body>
</html>

<!-- KEYWORDS
mp_potential_step_object
-->
