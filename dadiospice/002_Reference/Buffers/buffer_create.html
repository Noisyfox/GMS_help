<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>buffer_create</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
	<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" /></head>
<body><!-- #BeginLibraryItem "/Library/mmenu_head.lbi" --><link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.css" />
<link type="text/css" rel="stylesheet" href="../../../src/css/extensions/jquery.mmenu.themes.css" />
<link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
<style type="text/css">
@media all and (min-width: 900px) {
html, body {
height: 100%

}
#menu {
background: #eee
}
#page {
border-left: 1px solid #ccc
min-height: 100%
}
}
</style>

<!-- scripts links  -->

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script type="text/javascript" src="../../../src/js/jquery.mmenu.js"></script>
<script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all.js"></script>

<!-- main  -->

<script type="text/javascript">
	$(function() {
		$('nav#menu').mmenu({
			classes: 'mm-light'
				});
			});
</script>

<!-- for one page  -->

<script type="text/javascript">
	$(function() {
		var $menu = $('nav#menu'),
			$html = $('html, body');

		$menu.mmenu();
		$menu.find( 'li > a' ).on(
			'click',
			function()
			{
				var href = $(this).attr( 'href' );

				//	if the clicked link is linked to an anchor, scroll the page to that anchor 
				if ( href.slice( 0, 1 ) == '#' )
				{
					$menu.one(
						'closed.mm',
						function()
						{
							setTimeout(
								function()
								{
									$html.animate({
										scrollTop: $( href ).offset().top
									});	
								}, 10
							);	
						}
					);						
				}
			}
		);
	});
</script>
	
<!-- for the tips  -->
	
<script type="text/javascript">
			$(function() {
				var options = {
					classes			: 'mm-light',
					modal			: true
				};
				
				options.position = 'left';
				options.zposition = 'next';
				$('#tooltip-1').mmenu( options );
				
				options.position = 'right';
				options.zposition = 'next';
				$('#tooltip-2').mmenu( options );
				
				options.position = 'bottom';
				options.zposition = 'front';
				$('#popup-1').mmenu( options );

				options.position = 'top';
				options.zposition = 'front';
				$('#popup-2').mmenu( options );
			});
</script>

<!-- the page header part  -->

<div id="page">
			<div id="header" >
				<a href="#menu"></a>
				&#x70B9;&#x51FB;&#x5DE6;&#x8FB9;&#x6309;&#x952E;&#x6253;&#x5F00;&#x5BFC;&#x822A;&#x83DC;&#x5355;
			</div>
			<div id="content" >
			
<!-- for update files -->


<!-- #EndLibraryItem --><h1>buffer_create</h1>
  
<h2>Create a new buffer.</h2>

<h3>Syntax :</h3>
<p class="code">buffer_create(size, type, alignment)</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>size</td>
	<td>The size (in bytes) of the buffer.</td></tr>
	
	<tr class="alt"><td>type</td>
	<td>The type of buffer to create (see the constants list below).</td></tr>
	
	<tr><td>alignment</td>
	<td>The byte alignment for the buffer</td></tr>

</table>
</div>

<p>
<br>
</p>
  
<p>
<b>Returns : </b>Real
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
You use this function to allocate a portion of memory as a buffer in your game, with the function returning the unique <i>buffer id</i> that should be stored in a variable and used for all further 
function calls to the buffer. The buffer can then be used to store different types of data (specified when you write to the buffer using the <a href="buffer_write.html"><tt>buffer_write</tt></a> 
function, with the following constants being used to define the buffer type:
<br>
<br>

<div class="compat">
	<table>
		<tr><th>Constant</th><th>Description</th></tr>
		<tr><td>buffer_fixed</td><td>A buffer of fixed size.</td></tr>
		<tr class="alt"><td>buffer_grow</td><td>A buffer that will "grow" dynamically as data is added</td></tr>
		<tr><td>buffer_wrap</td><td>A buffer where the data will "wrap". When the data being added reaches the limit of the buffer size, the over-write will be placed back at the start 
		of the buffer, and further writing will continue from that point.</td></tr>
		<tr class="alt"><td>buffer_fast</td><td>Special "stripped" buffer that is extremely fast to read/write to. Can only be used with <tt>buffer_u8</tt> and <tt>buffer_s8</tt> 
		<a href="buffer_read.html">data types</a>, and <i>must</i> be 1 byte aligned.</td></tr>
	</table>
</div>

<p>
<br>
<br>
Apart from the buffer type, you will also have to set the <i>byte alignment</i> for the buffer. This value will vary depending on the data that you wish to store in the buffer, and in most cases a value of 1 is 
perfectly fine. However, be aware that for some operations a specifc alignment is <i>essential</i>, and an incorrrect alignment may cause errors (for further details on alignment see <a href="index.html">
Buffers</a>). The following is a general guide to show which values are most appropriate for each data type (when in doubt, use an alignment of 1):

<blockquote>
	<ul>
		<li>Strings should be aligned to 1 byte.
		<li>Signed or unsigned 8bit integers can be aligned to any value, but note that for a fast buffer (see <a href="buffer_write.html"><tt>buffer_write</tt></a>) it <i>must</i> be aligned to 1.
		<li>Signed or unsigned 16bit integers should be aligned to 2 bytes.
		<li>Signed or unsigned 32bit integers should be aligned to 4 bytes
		<li>Floats of up to 16bits should be aligned to 2 bytes. <i>(Not currently supported!)</i>
		<li>Floats of up to 32bits should be aligned to 4 bytes.
		<li>Floats of up to 64bits should be aligned to 8 bytes.
	</ul>
</blockquote>

<p>
<i><b>NOTE: </b>Byte alignment can be very important as the wrong choice may adversely affect performance.</i>
<br>
<br>

<i><b>NOTE: </b> It's important that you remove any dynamically created resources like this from memory when you no longer need them to prevent memory leaks, so when you are finished with the buffer 
that you have created you should free it up again using <a href="buffer_delete.html"><tt>buffer_delete</tt></a>.</i>
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
player_buffer = buffer_create(16384, buffer_fixed, 2);<br>
</p>
<p>
The above code allocates 16384 bytes of memory to a buffer and returns the index of that buffer, which is stored in the variable "player_buffer", for future use. The buffer is alligned to a two byte boundary.
</p>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Buffers</a>
	</div>
	<div style="float:right">
		Next : <a href="buffer_delete.html">buffer_delete</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5><!-- #BeginLibraryItem "/Library/mmenu_body_down.lbi" -->
</div>
<div id="footer">
				Fixed footer :-)
</div>

			<nav id="menu">
				<ul>
					<li ><a href="../../../index.html">GameMaker:Studio 手册首页</a>
						<ul>
							<li><a href="#content">Introduction</a></li>
							<li><a href="#first">First section</a></li>
							<li><a href="#second">Second section</a></li>
							<li><a href="#third">Third section</a></li>
						</ul>
					</li>
					<li >
						<a href="../../000_Using GameMaker/index.html">GameMaker:Studio 使用</a>
						<ul>
							<li><a href="#">First sub-item</a></li>
							<li>
								<a href="#">Second sub-item</a>
								<ul>
									<li><a href="#">First sub-sub-item</a></li>
									<li><a href="#">Second sub-sub-item</a></li>
									<li><a href="#">Third sub-sub-item</a></li>
								</ul>
							</li>
							<li><a href="#">Third sub-item</a></li>
						</ul>
					</li>
					<li ><a href="../../001_Advanced Use/index.html">Advanced Use 高级使用</a></li>
					<li ><a href="../index.html">Reference GML参考手册</a></li>
					<li ><a href="#">Examples and Experience 实例教程及心得</a></li>
					<li ><a href="#">Experimental project 实验项目</a></li>
					<li ><a href="#">Setting 应用设置</a></li>					
				</ul>
			</nav>
</div>
<!-- 注意1 --><!-- #EndLibraryItem --></body>
</html>

<!-- KEYWORDS
buffer_create
buffer_fixed
buffer_grow
buffer_fast
buffer_wrap
buffer_vbuffer
--> 