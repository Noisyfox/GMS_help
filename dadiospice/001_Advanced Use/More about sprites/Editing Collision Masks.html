<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Editing Collision Masks</title>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=yes" /></head>
<body><!-- #BeginLibraryItem "/Library/mmenu_head.lbi" -->
<link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all_old.js"></script>

<style type="text/css">
@media all and (min-width: 900px) {
html, body {
height: 100%

}
#menu {
background: #eee
}
#page {
border-left: 1px solid #ccc
min-height: 100%
}
}
</style>

<!-- scripts links  -->



<!-- main  -->

<script type="text/javascript">
	$(function() {
		$('nav#menu').mmenu({
			classes: 'mm-light'
				});
			});
</script>

<!-- for one page  -->

<script type="text/javascript">
	$(function() {
		var $menu = $('nav#menu'),
			$html = $('html, body');

		$menu.mmenu();
		$menu.find( 'li > a' ).on(
			'click',
			function()
			{
				var href = $(this).attr( 'href' );

				//	if the clicked link is linked to an anchor, scroll the page to that anchor 
				if ( href.slice( 0, 1 ) == '#' )
				{
					$menu.one(
						'closed.mm',
						function()
						{
							setTimeout(
								function()
								{
									$html.animate({
										scrollTop: $( href ).offset().top
									});	
								}, 10
							);	
						}
					);						
				}
			}
		);
	});
</script>
	
<!-- for the tips  -->
	
<script type="text/javascript">
			$(function() {
				var options = {
					classes			: 'mm-light',
					modal			: true
				};
				
				options.position = 'left';
				options.zposition = 'next';
				$('#tooltip-1').mmenu( options );
				
				options.position = 'right';
				options.zposition = 'next';
				$('#tooltip-2').mmenu( options );
				
				options.position = 'bottom';
				options.zposition = 'front';
				$('#popup-1').mmenu( options );

				options.position = 'top';
				options.zposition = 'front';
				$('#popup-2').mmenu( options );
			});
</script>

<!-- the page header part  -->

<script type="text/javascript">
   $(function() {
      $("my-menu").mmenu({
         labels: {
            fixed: true
         }
      });
   });
</script>


<script type="text/javascript">
   $(function() {
      $("my-menu").mmenu({
         searchfield: true
      });
   });
</script>

<div id="page">
			<div id="header" >
				<a href="#menu"></a>
				&#x70B9;&#x51FB;&#x5DE6;&#x8FB9;&#x6309;&#x952E;&#x6253;&#x5F00;&#x5BFC;&#x822A;&#x83DC;&#x5355;
			</div>
			<div id="content" >
			
<!-- for update files -->


<!-- #EndLibraryItem --><h1>Editing Collision Masks</h1>

<h2>This section deals with the collision mask editor.</h2>

<p>
Once you open a sprite resource, you can edit its <i>collision mask</i>, which is the area that <i>GameMaker:Studio</i> uses to calculate when two instances are in collision or not and trigger a collision event. To get 
the collision mask editor, open a sprite resource and press the button <b>Modify Mask</b>. The following window will show :
<br>
<br>

<img class="center" src="../../images/form_mask.png">
<br>
<br>

The Mask Properties window is split into various sections (explain in more depth below) and on the right you can see a graphical representation of the sprite with the current mask overlaid in dark grey. All changes that you 
make to the mask will be reflected here, making it far easier to visualise how they will affect how your game plays.
<br>
<br>

<h3>Image</h3>
<p>
This part shows you some basic information about the sprite, including the width and height and the current sub-image. There is a check-box at the bottom where you can switch on and off the visual representation of the 
mask in the view on the right, and the zoom controls beneath this can also be used to change the scale of the view to help fine-tune the size of the mask better.
<br>
<br>

<h3>General</h3>
<p>
This section has two options which you can change, with the first being the separate collision masks toggle which is the same as in the actual sprite resource itself. All this does is tell <i>GameMaker:Studio</i> to create 
a separate collision mask for each sub-image of the current sprite (Note that if you set the bounding box manually, a single bounding box will be used for all sub-images, regardless of this setting) but only if you have selected
"precise" from the properties on the right. You can also indicate the tolerance with respect to the transparency of the sprites pixels : with a higher tolerance pixels that are partially transparent are left outside the mask, while 
with a lower tolerance the mask will take into account those pixels. This influences both the bounding box (when not set to manual) and the mask for precise collision checking.
<br>
<br>

<h3>Bounding Box</h3>
<p>
The bounding box is the name given to the rectangular area that the sprite mask fits in. Only pixels inside this bounding box are used for the mask and will be involved in collision checking, and by default this is automatically 
computed, taking the alpha tolerance into account. If you have precise checked then this will be separate for each sub-image too. You can also set it to the full image (the actual width and height of the sprite, irrespective of 
the transparencies that the sprite may have) or you can set it to manual, where you can specify the bounding box yourself. When setting it yourself, you can input the values in the boxes for left, right top and bottom, or you can 
click in the sprite view and drag to "draw" it over the sprite. Note that when "drawing" the bounding box, the mask is automatically generated to fit within the end values.
<br>
<br>


<h3>Shape</h3>
<p>
Here you can indicate the shape of the mask you wish <i>GameMaker:Studio</i> to base its collisions off of. The default is precise, per-pixel collision checking, but you can select here also to use a rectangular, elliptical, or 
diamond shaped mask too, with all of them being faster for <i>GameMaker:Studio</i> to process than precise collisions, but no one of the three being faster than the other. Here you can see how the different shapes are 
applied to a sprite :
<br>
<br>
<img class="center" src="Bbox_image.png">

<h3>Choosing A Collision Mask</h3>
<p>
It is important to carefully decide on the collision mask you use for your sprites. Although precise collision checking might seem the most logical option, in many cases game play is improved by using rectangles or ellipses, or 
simple masks that are a bit smaller than the actual sprites themselves. Only on a very few occasions should you need precise masks, and, in general, it is better to have as few instances with precise collisions as possible.
<br>
<br>
Please note too that if you want even further control over the mask, then you can specify an actual sprite to use as mask within the object properties themselves. In this way you can make the collision mask completely independent 
of the sprite image assigned to that object, which can be very useful, for example, when making isometric games and you want to have a only a small collision mask at the feet of the player.
<br>
<br>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">More About Sprites</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5><!-- #BeginLibraryItem "/Library/mmenu_body_down.lbi" -->
</div>
<div id="footer">
				Fixed footer :-)
</div>

			<nav id="menu">
				<ul>
					<li ><a href="../../../index.html">GameMaker:Studio 手册首页</a>
						<ul>
							<li><a href="#content">Introduction</a></li>
							<li><a href="#first">First section</a></li>
							<li><a href="#second">Second section</a></li>
							<li><a href="#third">Third section</a></li>
						</ul>
					</li>
					<li >
						<a href="../../000_Using GameMaker/index.html">GameMaker:Studio 使用</a>
						<ul>
							<li><a href="#">First sub-item</a></li>
							<li>
								<a href="#">Second sub-item</a>
								<ul>
									<li><a href="#">First sub-sub-item</a></li>
									<li><a href="#">Second sub-sub-item</a></li>
									<li><a href="#">Third sub-sub-item</a></li>
								</ul>
							</li>
							<li><a href="#">Third sub-item</a></li>
						</ul>
					</li>
					<li ><a href="../index.html">Advanced Use 高级使用</a></li>
					<li ><a href="../../002_Reference/index.html">Reference GML参考手册</a></li>
					<li ><a href="#">Examples and Experience 实例教程及心得</a></li>
					<li ><a href="#">Experimental project 实验项目</a></li>
					<li ><a href="#">Setting 应用设置</a></li>					
				</ul>
			</nav>
</div>
<!-- 注意1 --><!-- #EndLibraryItem --></body>
</html>

<!-- KEYWORDS
collision mask
bounding box
mask shape
alpha tolerance
-->