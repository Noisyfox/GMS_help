<!doctype html><html><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>d3d_set_projection_ext</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />
    <link rel="stylesheet" href="../../../../src/css/style.css" type="text/css" media="screen" title="style" charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="../../../../src/css/jquery.mmenu.all.css" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="icon" type="../image/png" href="favicon.png">
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header" class="mm-fixed-top">
            <a href="#menu_left" class="menu_left" title="点击此按钮打开左侧目录菜单，右边的按钮则打开右侧菜单。"></a>GameMaker:Studio帮助手册
            <a href="#menu_right" class="friends right"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>d3d_set_projection_ext</h1>
  
<h2>This function can be used to set very precise 3D projections.</h2>

<h3>Syntax :</h3>
<p class="code">d3d_set_projection_ext(xfrom, yfrom, zfrom, xto, yto, zto, xup, yup, zup, angle, aspect, znear, zfar)</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>xfrom</td>
	<td>The x coordinate of the position to look from.</td></tr>
	
	<tr class="alt"><td>yfrom</td>
	<td>The y coordinate of the position to look from.</td></tr>
	
	<tr><td>zfrom</td>
	<td>The z coordinate of the position to look from.</td></tr>
	
	<tr class="alt"><td>xto</td>
	<td>The x coordinate of the position to look to.</td></tr>

	<tr><td>yto</td>
	<td>The x coordinate of the position to look to.</td></tr>
	
	<tr class="alt"><td>zto</td>
	<td>The x coordinate of the position to look to.</td></tr>

	<tr><td>xup</td>
	<td>The x coordinate of the "up" vector.</td></tr>
	
	<tr class="alt"><td>yup</td>
	<td>The y coordinate of the "up" vector.</td></tr>

	<tr><td>zup</td>
	<td>The z coordinate of the "up" vector.</td></tr>
	
	<tr class="alt"><td>angle</td>
	<td>The field of view angle.</td></tr>

	<tr><td>aspect</td>
	<td>Aspect ratio between horizontal and vertical size of the view.</td></tr>
	
	<tr class="alt"><td>znear</td>
	<td>The near clipping plane.</td></tr>

	<tr><td>zfar</td>
	<td>The far clipping plane.</td></tr>
	
</table>
</div>

<p>
<br>
</p>
  
<p>
<b>Returns : </b>N/A
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function sets up the initial projection matrix as well as the view matrix for a 3D game, where (basically) the view matrix controls where the camera is and the projection matrix controls how the world is 
projected onto a 2D screen. If you just wish to move the view (camera) around, you should be using the function <a href="d3d_set_projection.html"><tt>d3d_set_projection</tt></a>.
<br>
<br>

To set the view into the world you first need the position you look from , which is indicated by the parameters (xfrom, yfrom, zfrom). Next you must specify the direction you look in and this is done by giving a second 
point to look towards with the arguments (xto, yto, zto). Finally, you can still rotate the camera around the line from the viewpoint to the looking point, and to specify this we must give an "up" vector, that is, 
the direction that is upwards in the camera and this is given by the three arguments (xup, yup, zup).
<br>
<br>

Once you specify the camera position, point to look at, and up vector, you can still change how wide the lens of the camera is (called the <i>field of view</i>) by setting the (angle) argument to a chosen value, with a 
reasonable value being somewhere between 40 and 45 degrees. Next you can specify the aspect ratio between the horizontal and vertical projection. Now, normally you want to use the same as the aspect ratio of the 
room or view, e.g. 640/480, but in special circumstances you may wish to change this. Finally you can indicate the clipping planes. Objects that are closer than znear to the camera are not drawn, and similarly, objects that 
are further than zfar will not be drawn. It can be important to set these parameters to reasonable values because they also influence the precision of the z-comparisons and if you make the range too large then the 
precision gets worse. The default values are 1 and 32000, and znear <i>must be larger than 0</i>.
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
with (obj_camera)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var xx, yy, r;<br>
&nbsp;&nbsp;&nbsp;xx = x + cos(direction * pi / 180);<br>
&nbsp;&nbsp;&nbsp;yy = y - sin(direction * pi / 180);<br>
&nbsp;&nbsp;&nbsp;r = view_wview[0] / view_hview[0];<br>
&nbsp;&nbsp;&nbsp;d3d_set_projection_ext(x, y, 10, xx, yy, 10, 0, 0, 1, 60, r, 1, 16000);<br>
&nbsp;&nbsp;&nbsp;}<br>
</p>
<p>
The above code creates a typical first person shooter projection, rotated using the current camera object direction, and with a custom field of view of 60º and a low far clipping distance.
</p>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">3D Projections</a>
	</div>
	<div style="float:right">
		Next : <a href="d3d_set_projection_ortho.html">d3d_set_projection_ortho</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
        
        <div id="page_popup">
            <div class="popup ">
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                        <h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>
        <div id="page_fullscreen">

            <div class="panel ">
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                        <h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>

        <div id="page_mmenu">
            <nav id="menu_left">
            </nav>
            <nav id="menu_right">
            </nav>
        </div>

        <!-- KEYWORDS
        pages
        -->
    </div>
    <script type="text/javascript" src="src/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../../../src/js/subpage.js"></script>

</body>

<!-- InstanceEnd --></html>

<!-- KEYWORDS
d3d_set_projection_ext
--> 