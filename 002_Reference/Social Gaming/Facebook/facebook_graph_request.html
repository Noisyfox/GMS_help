<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>facebook_graph_request</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />    
    <link rel="stylesheet" href="../../../src/css/style.css" type="text/css" media="screen" title="style" charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
    <link rel="stylesheet" href="../../../src/css/zebra_tooltips.css" type="text/css">
    <link rel="icon" type="../image/png" href="favicon.png">
    
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->
    <!-- InstanceParam name="OptionalRegion_pagefull" type="boolean" value="false" -->
    <!-- InstanceParam name="OptionalRegion_mmenutip" type="boolean" value="false" -->
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header">
           <a href="#menu-left" class="mmenu-left tooltips" title="点击此按钮打开左侧目录菜单，右边的按钮则打开右侧菜单。"></a>
            <!-- InstanceBeginEditable name="EditRegion_pagetitle" -->点击左边图标打开菜单<!-- InstanceEndEditable -->
            <a href="#menu-right" class="friends right"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>facebook_graph_request</h1>
  
<h2>This function is used to interact with the Facebook social graph.</h2>

<h3><b>Syntax :</b></h3> 
<p class="code">facebook_graph_request(graph_path, httpMethod, ds_map_paramaters, ds_map_return)</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>graph_path</td>
	<td>The part of the social graph to interact with</td></tr>
	
	<tr class="alt"><td>httpMethod</td>
	<td>The http method to use (POST, GET, DELETE).</td></tr>
	
	<tr><td>ds_map_paramaters</td>
	<td>The ds_map with the information to <i>send<i>.</td></tr>
	
	<tr class="alt"><td>ds_map_return</td>
	<td>The ds_map to <i>receive</i> (-1 for none).</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>N/A
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
With this function you can get the user to interact with the Facebook Social Graph. The "graph_path" argument is where you define the part of the graph you wish to access, like the current user friends list, 
or another apps comments or even an event. The exact path can be defined using the terms outlined in the <b>Publishing</b> section of the <a href="https://developers.facebook.com/docs/reference/api/" target="_blank">
Facebook Graph Api</a> pages. You then define the http method to use which is usually POST or GET but Facebook also accepts the DELETE method.
<br>
<br>

The next argument is slightly more complex as it requires you to have created and filled a <a href="../../Data%20Structures/DS%20Maps/index.html"><tt>ds_map</tt></a> with the correct information which 
<i>GameMaker:Studio</i> will then convert into <tt>json</tt> automatically when sent to the Facebook Api. The information that you put in this map will depend very much on which path you choose to 
use and a complete list of all possible values can be found <a href="https://developers.facebook.com/docs/reference/api/" target="_blank">here</a>. An example of how this map is structured can be seen 
in the code example supplied below.
<br>
<br>

Finally, we have an argument for storing any information that Facebook has sent back from the graph request. This information comes in the form of <tt>json</tt> which <i>GameMaker:Studio</i> converts 
into a ds_map. For this to work correctly, you <i>must</i> have created a ds_map previously, and if that map has been used elsewhere and already contains some key/value pairs it will be cleared by this function 
before the Facebook data is added. It is <i>very important</i> that you read the Facebook documentation on possible return values so that you know exactly what to expect. Thankfully Facebook have a 
<a href="https://developers.facebook.com/tools/explorer?method=GET&path=100002950182313" target="_blank">Graph Api Test Page</a> where you can check different graph paths and see exactly what 
information they will return.
<br>
<br>

 <p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
var wallPostMap;<br>
wallPostMap = ds_map_create();<br>
ds_map_add(wallPostMap, "message", "I just got a hi-score playing Catch The Clown!");<br>
ds_map_add(wallPostMap, "picture", "http://MacSweeneygames.com/Clown.jpg");<br>
ds_map_add(wallPostMap, "link", "http://MacSweeneygames.com/");<br>
ds_map_add(wallPostMap, "name", "Catch The Clown");<br>
ds_map_add(wallPostMap, "caption", "MacSweeneygames.com");<br>
ds_map_add(wallPostMap, "description", "Play Catch the clown now on MacSweeney Games!");<br>
facebook_graph_request("me/feed", "POST", wallPostMap, -1);<br>
ds_map_destroy(wallPostMap);<br>
</p>
<p>
The above code will create a ds_map and store it's index in the local variable "wallPostMap". It then fills the ds_map with the relevant key/value pairs that are needed to post an image and text to the 
currently logged in users wall. Finally it sends the graph request and deletes the ds_map from memory.
</p>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Facebook</a>
	</div>
	<div style="float:right">
		Next : <a href="facebook_dialog.html">facebook_dialog</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
        
        <nav id="menu-left" >
        </nav>
        <nav id="menu-right" >
        </nav>
        
        
        <!-- KEYWORDS
        pages
        -->
    </div>
    
    <script type="text/javascript" src="../../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../../src/js/zebra_tooltips.js"></script>
    <script type="text/javascript" src="../../../src/js/hammer.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../../src/js/subpage.js"></script>
    
</body>

<!-- InstanceEnd --></html>

<!--KEYWORDS
facebook_graph_request
-->
