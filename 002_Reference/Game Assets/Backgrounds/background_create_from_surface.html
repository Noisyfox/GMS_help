<!doctype html><html><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>background_create_from_surface</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />    
    <link rel="stylesheet" href="../../../src/css/style.css" type="text/css" media="screen" title="style" charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" /> 
     <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->   
    <link rel="icon" type="../image/png" href="favicon.png">    
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->    
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header" class="mm-fixed-top">
           <a href="#menu_left" class="menu_left" title="点击此按钮打开左侧目录菜单，右边的按钮则打开右侧菜单。"></a>
            <!-- InstanceBeginEditable name="EditRegion_pagetitle" -->点击左边图标打开菜单<!-- InstanceEndEditable -->
            <a href="#menu_right" class="friends right"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>background_create_from_surface</h1>

<h2>Creates a background by copying an area from a surface.</h2>

<h3>Syntax :</h3>
<p class="code">background_create_from_surface(index, x, y, w, h, removeback, smooth);</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>
	
	<tr><td>index</td>
	<td>The index of the surface to create from.</td></tr>
	
	<tr class="alt"><td>x</td>
	<td>The x position to copy from.</td></tr>
	
	<tr><td>y</td>
	<td>The y position to copy from.</td></tr>
	
	<tr class="alt"><td>w</td>
	<td>The width of the area to be copied (from the x position).</td></tr>
	
	<tr><td>h</td>
	<td>The height of the area to be copied (from the y position).</td></tr>
	
	<tr class="alt"><td>removeback</td>
	<td>Indicates whether to make all pixels with the same color (left-bottom pixel) transparent.</td></tr>
	
	<tr><td>smooth</td>
	<td>Indicates whether to smooth the edges.</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>Real
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
With this function you can create a background from a previously initialised surface. The x and y coordinates that you input are relative to the (0,0) position of the <i>surface</i> (the top left corner) and not 
the game window, nor the view if you have one active. The width and height arguments are in pixels and define the width and height of the part of the surface to use.
<br>
<br>

Setting the "removeback" argument to <tt>true</tt> will remove a color from the background, by checking the <i>bottom left</i> pixel of the defined area for the color there and then using that as the color 
to be removed.
<br>
<br>

If you choose the "removeback" option, you may also want <i>GameMaker:Studio</i> to smooth the edges of the background by setting the "smooth" argument to <tt>true</tt>. All this does is create a 
semi-transparent border around the edges of the background after it has had it's background removed.
<br>
<br>

<i><b>NOTE : </b>When you create a background in GameMaker:Studio with this method you must remember to remove it again (with <a href="background_delete.html"><tt>background_delete</tt></a>) 
when no longer needed, otherwise there is risk of a memory leak which will slow down and eventually crash your game.</i>
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
var surf;<br>
surf = surface_create(32, 32);<br>
surface_set_target(surf);<br>
draw_clear_alpha(c_black, 0);<br>
draw_background(bck_Sky, 0, 0, 0);<br>
draw_background(bck_Mountains, 0, 0, 0);<br>
bck_custom = background_create_from_surface(surf, 0, 0, 32, 32, true, true);<br>
surface_reset_target();<br>
surface_free(surf);<br>
</p>
<p>
The above code creates a surface and stores it's index in the local variable "surf". It then targets that surface, clears it and draws two background on top of each other. Finally it creates a new background from 
the composite image drawn on the surface and assigns it's index to "bck_Custom" before freeing up the memory used by the surface.
</p>
  
<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Backgrounds</a>
	</div>
	<div style="float:right">
		Next : <a href="background_set_alpha_from_background.html">background_set_alpha_from_background</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
                
        <div id="page_popup">
            <div class="popup " >
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                    	<h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>
        <div id="page_fullscreen">

            <div class="panel ">
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                        <h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>

        <div id="page_mmenu">
            <nav id="menu_left">
            </nav>
            <nav id="menu_right">
            </nav>
        </div>
        
        <!-- KEYWORDS
        pages
        -->
    </div>
    <script type="text/javascript" src="src/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../../src/js/subpage.js"></script>
    
</body>

<!-- InstanceEnd --></html>

<!-- KEYWORDS
background_create_from_surface
-->
