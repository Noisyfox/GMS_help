<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>sprite_replace</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />    
    <link rel="stylesheet" href="../../../src/css/style.css" type="text/css" media="screen" title="style" charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
    <link rel="stylesheet" href="../../../src/css/zebra_tooltips.css" type="text/css">
    <link rel="icon" type="../image/png" href="favicon.png">
    
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->
    <!-- InstanceParam name="OptionalRegion_pagefull" type="boolean" value="false" -->
    <!-- InstanceParam name="OptionalRegion_mmenutip" type="boolean" value="false" -->
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header">
           <a href="#menu-left" class="mmenu-left tooltips" title="点击此按钮打开左侧目录菜单，右边的按钮则打开右侧菜单。"></a>
            <!-- InstanceBeginEditable name="EditRegion_pagetitle" -->sprite_replace<!-- InstanceEndEditable -->
            <a href="#menu-right" class="friends right"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>sprite_replace</h1>

<h2>Replace a sprite resource with an external one.</h2>

<h3>Syntax :</h3>
<p class="code">sprite_replace(ind, fname, imgnumb, removeback, smooth, xorig, yorig);</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>ind</td>
	<td>The index of the sprite to permanently replace.</td></tr>
	
	<tr class="alt"><td>fname</td>
	<td>The filename of the image to make the new sprite.</td></tr>
	
	<tr><td>imgnumb</td>
	<td>The number of frames the sprite will be cut up into horizontally. 1=one single image.</td></tr>
	
	<tr class="alt"><td>removeback</td>
	<td>Indicates whether to make all pixels with the background color (left-bottom pixel) transparent.</td></tr>
	
	<tr><td>smooth</td>
	<td>Indicates whether to smooth the edges.</td></tr>
	
	<tr class="alt"><td>xorig</td>
	<td>The x coordinate of the origin, relative to the sprite's top left corner.</td></tr>
	
	<tr><td>yorig</td>
	<td>The y coordinate of the origin, relative to the sprite's top left corner.</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>N/A
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function works in almost the exact same manner as <a href="sprite_add.html"><tt>sprite_add</tt></a>, only instead of returning the index of the sprite you are importing, it overwrites a previously 
created sprite index. You can specify the sprite to overwrite as one of the pre-made sprite assets that you have for your game (those that you create in the resource tree) or you can use a sprite index that 
has been created and stored in a variable using other functions like <a href="sprite_add.html"><tt>sprite_add</tt></a> or <a href="sprite_create_from_surface.html"><tt>sprite_create_from_surface</tt></a>. 
it should be noted that once you replace an included asset, <i>there is no way to recover this asset</i> and it will remain changed until the end of the game. 
<br>
<br>

<i><b>NOTE : </b>This functionality is limited to the <a href="../../../000_Using%20GameMaker/Versions.html">Standard Version</a> of <i>GameMaker:Studio</i> and above.</i>
<br>
<br>
<br>
<br>

The image file to be loaded should <b>always</b> be in <tt>*.png</tt> format and all images that are to be turned into animated sprites should have a "strip" format (see the image below). They will be split into 
the number of sub-images specified following the rule <b>sprite width = strip width / sub images</b>.

<img class="center" src="spr_Strip.png"></img>

As you can see in the above image, the sprite has been placed on a dark purple background, and this can be removed by setting the "removeback" argument to <tt>true</tt>. This works by checking the 
<i>bottom left</i> pixel of the sprite for the color there and then uses that as the color to be removed. For example, in the above image, if we had the bottom left pixel color as green, all the green parts 
of the sprite would have been removed and the rest of the purple background ignored.
<br>
<br>

If you choose the "removeback" option, you may also want <i>GameMaker:Studio</i> to smooth the edges of the sprite by setting the "smooth" argument to <tt>true</tt>. All this does is create a semi-transparent 
border around the edges of the sprite after it has had it's background removed.
<br>
<br>

Finally you can also specify the x and y <i>origin</i> for the sprite. This is the point where the sprite is "fixed" onto the instance that uses it, and is always calculated as relative to the 0,0 top left corner of 
one sprite sub-image. So, for example, a sprite that is 32 x 32 pixels with these values set to (16,16) will have it's origin in the center.
<br>
<br>

By default all new sprites have their bounding boxes calculated automatically (the exact bbox will depend on the size and transparency of the sprite), however you may wish to customise this, in which case 
you should also use the function <a href="sprite_collision_mask.html"><tt>sprite_collision_mask</tt></a>.
<br>
<br>

<i><b>NOTE : </b>Depending on the target platform that is chosen you are limited as to where you can save and load files from. See <a href="../../File%20Handling/index.html">Reference - Files</a> for more information.</i>
<br>
<br>

<i><b>NOTE : </b>You should be aware that if you are using this function in your HTML5 target game to load resources from an external server, then, due to XSS protection in browsers, attempts to load resources 
from across domains can be blocked and may appear to return blank results.</i>
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
sprite_replace(spr_banner, "gravemaker.png", 1, false, false, 0, 0);
</p>
<p>
The above code will replace the image asset indexed in "spr_banner" with another one loaded from an external source.
</p>
  
<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Sprites</a>
	</div>
	<div style="float:right">
		Next : <a href="sprite_duplicate.html">sprite_duplicate</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
        
        <nav id="menu-left" >
        </nav>
        <nav id="menu-right" >
        </nav>
        
        
        <!-- KEYWORDS
        pages
        -->
    </div>
    
    <script type="text/javascript" src="../../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../../src/js/zebra_tooltips.js"></script>
    <script type="text/javascript" src="../../../src/js/hammer.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../../src/js/subpage.js"></script>
    
</body>

<!-- InstanceEnd --></html>