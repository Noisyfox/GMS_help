<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>steam_publish_workshop_file</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />
    <link type="text/css" rel="stylesheet" href="../../src/css/jquery.mmenu.all.css" />
    <script type="text/javascript" src="../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../src/js/hammer.min.js"></script>
    <script type="text/javascript" src="../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../src/js/subpage.js"></script>
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->
    
    <script >
    $(document).ready(function () {
	    //	The menu on the left

    $(function () {
        //左菜单加载mmenu_left.html    
        $('nav#menu-left').load("../subpage/mmenu_left.html", function () {
            //应用mmeunu
            var $menu = $('nav#menu-left');
            $menu.mmenu({
                position: 'left',
                classes: 'mm-black',
                dragOpen: true,
                counters: true,
                searchfield: true,
                labels: {
                    fixed: !$.mmenu.support.touch
                }
            });  
            
            // for one page

            var $html = $('html, body');
            //$menu.mmenu();
            $menu.find('li a').on(
                'click',
                function () {
                    var href = $(this).attr('href');
                    //	if the clicked link is linked to an anchor, scroll the page to that anchor 
                    if (href.slice(0, 1) == '#') {
                        $menu.one(
                            'closed.mm',
                            function () {
                                setTimeout(
                                    function () {
                                        $html.animate({
                                            scrollTop: $(href).offset().top
                                        });
                                    }, 10
                                );
                            });
                    };
                });
        });

    });

    //	The menu on the right
    $(function () {
        //右菜单加载mmenu_right.html
        $('nav#menu-right').load("../subpage/mmenu_right.html", function () {
            //alert("11111");
            var $menu = $('nav#menu-right');
            $menu.mmenu({
                position: 'right',
                classes: 'mm-black',
                dragOpen: true,
                counters: true,
                searchfield: true,
                labels: {
                    fixed: !$.mmenu.support.touch
                }
            });
        });     
    });
	})
    </script>
    
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header">
            <a href="#menu-left"></a>
            <!-- InstanceBeginEditable name="EditRegion_pagetitle" -->点击左边图标打开菜单<!-- InstanceEndEditable -->
            <a href="#menu-right" class="friends right"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>steam_publish_workshop_file</h1>
  
<h2>Upload a previously synchronised file to the <i>Steam Workshop</i>.</h2>
  
<h3>Syntax :</h3>
<p class="code">steam_publish_workshop_file(filename, preview_image, title, description);

<p>
<br>
</p>

<div class="param">
	<table>
		<tr><th>Argument</th><th>Description</th></tr>

		<tr><td>filename</td>
		<td>The name of the Steam Cloud synchronised file to upload (a string).</td></tr>
		
		<tr class="alt"><td>previewImage</td>
		<td>The name of the Steam Cloud synchronised image file to upload (a string).</td></tr>
		
		<tr><td>title</td>
		<td>The title of the file to be shown on the Workshop (a string).</td></tr>
		
		<tr class="alt"><td>description</td>
		<td>A description of the file to be shown on the Workshop page (a string). Maximum 8000 characters.</td></tr>
		
	</table>
</div>

<p>
<br>
</p>
  
<p>
<b>Returns:</b> Real
</p>
  
 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function will add the given file to the <i>Steam Workshop</i> section for your game. The file to be shared <b>must have been synchronised to the Steam Cloud previously</b>, using the 
<a href="steam_file_write.html"><tt>steam_file_write</tt></a> function for example, as must the image to be shared, and if you do not wish to supply an image for the file, you can use an empty string "". 
Since this function will automatically share the file when it is called, you do <i>not</i> need to share it yourself nor wait for the Cloud synchronisation on game end. The function will return a value of 0 
if it fails for whatever reason and a value greater than 0 if it succeeds.
<br>
<br>

<i><b>NOTE:</b> Publishing files requires that the title <b>be unique</b> for all users and will return an error if any user has a file that was shared with the same title.</i>
<br>
<br>

<p>
<br>
</p>

<h3>Example:</h3>
<p class="code">
var file = steam_get_persona_name() + "_CatchTheHaggisLevelMap.txt";<br>
steam_file_write_file(file, "CatchTheHaggisLevelMap.txt");<br>
steam_publish_workshop_file(file, "", "Catch The Haggis level Map", "This map was made by " + steam_get_persona_name() + " for Catch The Haggis by MacSweeney Games");<br>
</p>
<p>
The above code will copy a file to the steam cloud and then synchronise the file to the <i>Steam Workshop</i>.
<p>

<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Steam API</a>
	</div>
	<div style="float:right">
		Next : <a href="steam_is_screenshot_requested.html">steam_is_screenshot_requested</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
        
        <nav id="menu-left">
        </nav>
        <nav id="menu-right">
        </nav>
    </div>
</body>

<!-- InstanceEnd --></html>

<!-- KEYWORDS
steam_publish_workshop_file
-->
