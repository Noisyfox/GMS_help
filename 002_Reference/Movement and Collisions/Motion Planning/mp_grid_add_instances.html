<!doctype html><html><!-- InstanceBegin template="/Templates/GMS_helppage.dwt" codeOutsideHTMLIsLocked="false" -->

<head>
    <!-- InstanceBeginEditable name="doctitle" -->
<title>mp_grid_add_instances</title>
<!-- InstanceEndEditable -->
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=2.0 user-scalable=yes" />
    <link rel="stylesheet" href="../../../src/css/style.css" type="text/css" media="screen" title="style" charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="../../../src/css/jquery.mmenu.all.css" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="icon" type="image/png" href="../../../favicon.png">
    <!-- InstanceParam name="OptionalRegion_footer" type="boolean" value="false" -->
</head>

<body bgcolor="#FFFFFF">
    <div id="page">
        <div id="header" class="mm-fixed-top">
            <a href="#menu_left" class="menu_left" title="点击此按钮打开左侧目录菜单，右边的按钮则打开右侧菜单。"></a>GameMaker:Studio帮助手册
            <a href="#menu_right" class="friends right"></a>
            <a href="../../../subpage/mmenu_left.html" id="forload_menuleft"></a>
            <a href="../../../subpage/mmenu_right.html" id="forload_menuright"></a>
        </div>
        <div id="content">
            <!-- InstanceBeginEditable name="EditRegion_content" -->
<h1>mp_grid_add_instances</h1>
  
<h2>Marks all cells that an instance of the indicated object overlaps as being forbidden.</h2>
  
<h3>Syntax :</h3>
<p class="code">mp_grid_add_instances(id, obj, prec);</p>
  
<p>
<br>
</p>

<div class="param"> 
<table>
	<tr><th>Argument</th><th>Description</th></tr>

	<tr><td>id</td>
	<td>Index of the mp_grid that is to be used</td></tr>
	
	<tr class="alt"><td>h</td>
	<td>Object index, or instance id, of the instances to be added into the mp_grid</td></tr>
	
	<tr><td>v</td>
	<td>Whether the check is based on pixel-perfect collisions (true = slow) or its bounding box in general (false = fast).</td></tr>
</table>
</div>

<p>
<br>
</p>
  
<p>
<b>Returns:</b> N/A</p>  
<p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
This function uses the instance collision mask (decided by the sprite properties or the mask index of the vcalling instance) to mark cells as forbidden or not, where forbidden cells cannot be crossed by any of the 
pathfinding functions. You can specify in the function whether to consider precise collisions or not and the forbidden cells marked will change depending on this setting. This image illustrates this behaviour :
<br>
<br>

<img class="center" src="mp_grid_add_instance_image.png"></img>

<p>
The two instances above have been added into the mp_grid using the mp_grid_add_instances function with precise being set as true. As you can see the, green instance has only marked the grid squares it 
"touches" as forbidden, due to the fact that its sprite mask is also set to precise. However the second instance has marked other cells too which don't <i>appear</i> to be touching. This is because the sprite
mask is <b>not</b> set to precise, meaning that even if you are using the precsie setting in the function, only the bounding box of the sprite will be considered. This is also what would happen if you set the 
precise argument of the function to false - even instances with a precise sprite mask will be added into the grid based on their bounding boxes.
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
mp_grid_add_instances(grid, obj_Wall, 1);<br>
</p>
<p>
The above code will add all instances of "obj_Wall" into the mp_grid indexed in the variable "grid" using the precise collision mask rather than the bounding box.
</p>
  
<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Motion Planning</a>
	</div>
	<div style="float:right">
		Next : <a href="mp_grid_add_rectangle.html">mp_grid_add_rectangle</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5>
  <!-- InstanceEndEditable -->
        </div>
        
        <div id="page_popup">
            <div class="popup ">
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                        <h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>
        <div id="page_fullscreen">

            <div class="panel ">
                <div>
                    <a href="#page" class="close">x</a>
                    <div>
                        <h4>喵~</h4>
                        <p>欢迎，这里是404号猫国皇室会所~~</p>
                        <p>因为找不到其它的地方，你来到了这里。</p>
                    </div>

                </div>

            </div>
        </div>

        <div id="page_mmenu">
            <nav id="menu_left">
            </nav>
            <nav id="menu_right">
            </nav>
        </div>

        <!-- KEYWORDS
        pages
        -->
    </div>
    <script type="text/javascript" src="src/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../../src/js/jquery.mmenu.min.all_old.js"></script>
    <script type="text/javascript" src="../../../src/js/subpage.min.js"></script>

</body>

<!-- InstanceEnd --></html>

<!-- KEYWORDS
mp_grid_add_instances
-->
